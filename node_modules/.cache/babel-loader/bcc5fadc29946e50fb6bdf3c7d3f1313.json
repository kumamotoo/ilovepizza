{"ast":null,"code":"import _slicedToArray from\"/home/sofia/pet-projects/react-pizza/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import classNames from'classnames';import Button from'../Button';function PizzaBlock(_ref){var id=_ref.id,name=_ref.name,imageUrl=_ref.imageUrl,price=_ref.price,types=_ref.types,sizes=_ref.sizes,onClickAddPizza=_ref.onClickAddPizza,addedCount=_ref.addedCount;var availableTypes=['тонкое','традиционное'];var availableSizes=[26,30,40];var _React$useState=React.useState(types[0]),_React$useState2=_slicedToArray(_React$useState,2),activeType=_React$useState2[0],setActiveType=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),activeSize=_React$useState4[0],setActiveSize=_React$useState4[1];var onSelectType=function onSelectType(index){setActiveType(index);};var onSelectSize=function onSelectSize(index){setActiveSize(index);};var onAddPizza=function onAddPizza(){var obj={id:id,name:name,imageUrl:imageUrl,price:price,size:availableSizes[activeSize],type:availableTypes[activeType]};onClickAddPizza(obj);};return/*#__PURE__*/React.createElement(\"div\",{className:\"pizza-block\"},/*#__PURE__*/React.createElement(\"img\",{className:\"pizza-block__image\",src:imageUrl,alt:\"Pizza\"}),/*#__PURE__*/React.createElement(\"h4\",{className:\"pizza-block__title\"},name),/*#__PURE__*/React.createElement(\"div\",{className:\"pizza-block__selector\"},/*#__PURE__*/React.createElement(\"ul\",null,availableTypes.map(function(type,index){return/*#__PURE__*/React.createElement(\"li\",{key:type,onClick:function onClick(){return onSelectType(index);},className:classNames({active:activeType===index,disabled:!types.includes(index)})},type);})),/*#__PURE__*/React.createElement(\"ul\",null,availableSizes.map(function(size,index){return/*#__PURE__*/React.createElement(\"li\",{key:size,onClick:function onClick(){return onSelectSize(index);},className:classNames({active:activeSize===index,disabled:!sizes.includes(size)})},size,\" \\u0441\\u043C.\");}))),/*#__PURE__*/React.createElement(\"div\",{className:\"pizza-block__bottom\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pizza-block__price\"},\"\\u043E\\u0442 \",price,\" \\u20BD\"),/*#__PURE__*/React.createElement(Button,{onClick:onAddPizza,className:\"button--add\",outline:true},/*#__PURE__*/React.createElement(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 12 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",fill:\"white\"})),/*#__PURE__*/React.createElement(\"span\",null,\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"),addedCount&&/*#__PURE__*/React.createElement(\"i\",null,addedCount))));}PizzaBlock.defaultProps={name:'---',price:0,types:[],sizes:[]};export default PizzaBlock;","map":{"version":3,"sources":["/home/sofia/pet-projects/react-pizza/src/components/PizzaBlock/index.jsx"],"names":["React","classNames","Button","PizzaBlock","id","name","imageUrl","price","types","sizes","onClickAddPizza","addedCount","availableTypes","availableSizes","useState","activeType","setActiveType","activeSize","setActiveSize","onSelectType","index","onSelectSize","onAddPizza","obj","size","type","map","active","disabled","includes","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Button from '../Button';\n\nfunction PizzaBlock({ id, name, imageUrl, price, types, sizes, onClickAddPizza, addedCount }) {\n  const availableTypes = ['тонкое', 'традиционное'];\n  const availableSizes = [26, 30, 40];\n\n  const [activeType, setActiveType] = React.useState(types[0]);\n  const [activeSize, setActiveSize] = React.useState(0);\n\n  const onSelectType = (index) => {\n    setActiveType(index);\n  };\n\n  const onSelectSize = (index) => {\n    setActiveSize(index);\n  };\n\n  const onAddPizza = () => {\n    const obj = {\n      id,\n      name,\n      imageUrl,\n      price,\n      size: availableSizes[activeSize],\n      type: availableTypes[activeType],\n    };\n    onClickAddPizza(obj);\n  };\n\n  return (\n    <div className=\"pizza-block\">\n      <img className=\"pizza-block__image\" src={imageUrl} alt=\"Pizza\" />\n      <h4 className=\"pizza-block__title\">{name}</h4>\n      <div className=\"pizza-block__selector\">\n        <ul>\n          {availableTypes.map((type, index) => (\n            <li\n              key={type}\n              onClick={() => onSelectType(index)}\n              className={classNames({\n                active: activeType === index,\n                disabled: !types.includes(index),\n              })}>\n              {type}\n            </li>\n          ))}\n        </ul>\n        <ul>\n          {availableSizes.map((size, index) => (\n            <li\n              key={size}\n              onClick={() => onSelectSize(index)}\n              className={classNames({\n                active: activeSize === index,\n                disabled: !sizes.includes(size),\n              })}>\n              {size} см.\n            </li>\n          ))}\n        </ul>\n      </div>\n      <div className=\"pizza-block__bottom\">\n        <div className=\"pizza-block__price\">от {price} ₽</div>\n        <Button onClick={onAddPizza} className=\"button--add\" outline>\n          <svg\n            width=\"12\"\n            height=\"12\"\n            viewBox=\"0 0 12 12\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n              d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\n              fill=\"white\"\n            />\n          </svg>\n          <span>Добавить</span>\n          {addedCount && <i>{addedCount}</i>}\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nPizzaBlock.propTypes = {\n  name: PropTypes.string,\n  imageUrl: PropTypes.string,\n  price: PropTypes.number,\n  types: PropTypes.arrayOf(PropTypes.number),\n  sizes: PropTypes.arrayOf(PropTypes.number),\n  onClickAddPizza: PropTypes.func,\n  addedCount: PropTypes.number,\n};\n\nPizzaBlock.defaultProps = {\n  name: '---',\n  price: 0,\n  types: [],\n  sizes: [],\n};\n\nexport default PizzaBlock;\n"]},"metadata":{},"sourceType":"module"}